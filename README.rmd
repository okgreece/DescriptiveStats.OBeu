---
title: DescriptiveStats.OBeu <img src="obeu_logo.png" align="right" />
author: "Kleanthis Koupidis, Aikaterini Chatzopoulou, Charalampos Bratsas"
date: "November 7, 2016"
output:
  github_document:
    fig_width: 8
    fig_height: 8
    dev: png
    html_preview: false
  number_sections: yes
subtitle: A Short Guide in R and OpenCPU environments
---

[![Build Status](https://travis-ci.org/okgreece/DescriptiveStats.OBeu.svg?branch=master)](https://travis-ci.org/okgreece/DescriptiveStats.OBeu)
[![Pending Pull-Requests](http://githubbadges.herokuapp.com/okgreece/DescriptiveStats.OBeu/pulls.svg)](https://github.com/okgreece/DescriptiveStats.OBeu/pulls)
[![Github Issues](http://githubbadges.herokuapp.com/okgreece/DescriptiveStats.OBeu/issues.svg)](https://github.com/okgreece/DescriptiveStats.OBeu/issues)
[![Project Status: Active â€“ The project has reached a stable, usable state and is being actively developed.](http://www.repostatus.org/badges/latest/active.svg)](http://www.repostatus.org/#active)
[![packageversion](https://img.shields.io/badge/Package%20version-1.1.5-orange.svg?style=flat-square)](commits/master)
[![minimal R version](https://img.shields.io/badge/R%3E%3D-3.1-6666ff.svg)](https://cran.r-project.org/)
[![Licence](https://img.shields.io/badge/licence-GPL--2-blue.svg)](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html)

This document describes the use of the functions implemented in DescriptiveStats.OBeu package in OpenCPU environment. 


#Install:

Load *devtools* library or install it if not already:

```{r, eval=FALSE, include=T}
install.packages("devtools")
```

Then install *DescriptiveStats.OBeu* from [Github](https://github.com/okgreece/DescriptiveStats.OBeu)

```{r, eval=FALSE, include=T}
devtools::install_github("okgreece/DescriptiveStats.OBeu")
```

And load the library

```{r}
library(DescriptiveStats.OBeu)
```

### R Example

The package includes the following data: 

```{r}
# 1. a link to json file-openspending
sample_json_link_openspending
```

```{r}
# 2. a link to json file-rudolf
sample_json_link_rudolf
```


# OpenCPU Short Guide - DescriptiveStats.OBeu

Go to: http://okfnrg.math.auth.gr/ocpu/test/

## How to use functions:

Type to the endpoint:

```{r, eval=FALSE, include=TRUE}
 ../library/ {name of the library} /R/ {function}
```

If you want to see the function parameters you should: 

+ Select Method:
```{r, eval=FALSE, include=TRUE}
Get
```

and in order to run a function you should:

+ Select Method:
```{r, eval=FALSE, include=TRUE}
Post
```

The you can push Ajax Request.



## Example #1 - Open Spending-DescriptiveStats

1 Go to http://okfnrg.math.auth.gr/ocpu/test/

2 Copy and paste the following function to the endpoint 
```{r, eval=FALSE, include=TRUE}
../library/DescriptiveStats.OBeu/R/open_spending.ds
```

3 *Select Method*:
```{r, eval=FALSE, include=TRUE}
Post
```

4 **Add parameters** and set:

Define the input time series data:

+ *Param Name*:
 
```{r, eval=FALSE, include=TRUE}
json_data
```

+ *Param Value* -the **URL** of json data:
```{r, eval=FALSE, include=TRUE}
# a link with json file-openspending
sample_json_link_openspending
```


Define the dimensions:

+ *Param Name*:
 
```{r, eval=FALSE, include=TRUE}
dimensions
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
"functional_classification_2.Function|functional_classification_2.Code"
```


Define the amount parameter:

+ *Param Name*:
 
```{r, eval=FALSE, include=TRUE}
amounts 
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
"Revised"
```


Define the level of boxplot outliers (*optional*),default is 1.5:

+ *Param Name*: 
```{r, eval=FALSE, include=TRUE}
coef.outl
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
0.8
```

Define TRUE/FALSE if outliers should be returned (*optional*),default is TRUE:

+ *Param Name*: 
```{r, eval=FALSE, include=TRUE}
box.outliers
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
TRUE
```

Define box width in boxplot (*optional*),default is 0.25*sqrt(n):

+ *Param Name*: 
```{r, eval=FALSE, include=TRUE}
box.wdth
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
0.2
```

Define the correlation method (*cor.method*), default is *"pearson"*:

+ *Param Name*: 
```{r, eval=FALSE, include=TRUE}
cor.method
```

+ *Param Value* -for example:
```{r, eval=FALSE, include=TRUE}
"spearman" 
```

5 Ready! Click on **Ajax request**!

6 To see the results: 

copy the */ocpu/tmp/{this}/R/.val* (the first choice on the right panel)

7 and paste http://okfnrg.math.auth.gr/ocpu/tmp/ {this} /R/.val on a new tab.



## Example #2 - Rudolf DescriptiveStats

1 Go to http://okfnrg.math.auth.gr/ocpu/test/

2 Copy and paste the following function to the endpoint 
```{r, eval=FALSE, include=TRUE}
../library/DescriptiveStats.OBeu/R/open_spending.ds
```

3 *Select Method*:
```{r, eval=FALSE, include=TRUE}
Post
```

4 **Add parameters** and set:

Define the input time series data:

+ *Param Name*:
 
```{r, eval=FALSE, include=TRUE}
json_data
```

+ *Param Value* -the following output from rudolf/ open spending api or you can provide the also **json URL**:
```{r, eval=FALSE, include=TRUE}
# 1. json link
sample_json_link_rudolf
```


Define the dimension of the input data (nominal variables):

+ *Param Name*:
 
```{r, eval=FALSE, include=TRUE}
dimensions
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
"global__fiscalPeriod__28951.notation"
```

Define the measured dimensions parameter (e.g. budgetPhase dimension includes variables that are measurable/numeric variables):

+ *Param Name*:
 
```{r, eval=FALSE, include=TRUE}
measured.dimensions
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
"global__budgetPhase__afd93.prefLabel"
```


Define the amount parameter:

+ *Param Name*:
 
```{r, eval=FALSE, include=TRUE}
amounts
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
"global__amount__0397f.sum"
```


Define the level of boxplot outliers (*optional*),default is 1.5:

+ *Param Name*: 
```{r, eval=FALSE, include=TRUE}
coef.outl
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
0.8
```

Define TRUE/FALSE if outliers should be returned (*optional*),default is TRUE:

+ *Param Name*: 
```{r, eval=FALSE, include=TRUE}
box.outliers
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
TRUE
```

Define box width in boxplot (*optional*),default is 0.25*sqrt(n):

+ *Param Name*: 
```{r, eval=FALSE, include=TRUE}
box.wdth
```

+ *Param Value*:
```{r, eval=FALSE, include=TRUE}
0.2
```


Define the correlation method (*cor.method*), default is *"pearson"*:

+ *Param Name*: 
```{r, eval=FALSE, include=TRUE}
cor.method
```

+ *Param Value* -for example:
```{r, eval=FALSE, include=TRUE}
"spearman" 
```

5 Ready! Click on **Ajax request**!

6 To see the results: 

copy the */ocpu/tmp/{this}/R/.val* (the first choice on the right panel)

7 and paste http://okfnrg.math.auth.gr/ocpu/tmp/ {this} /R/.val on a new tab.




# Further Details:

+ https://www.opencpu.org/help.html

+ https://cran.r-project.org/web/packages/opencpu/vignettes/opencpu-server.pdf

+ https://www.opencpu.org/jslib.html

# Github:

+ https://github.com/okgreece/DescriptiveStats.OBeu